<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ListOfEmployees</title>
  <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
  <link rel="stylesheet" type="text/css" th:href="@{../static/css/employeelist.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/employeelist.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/navbar.css}">
  <script type="text/javascript" th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.min.js}"></script>
  <script type="text/javascript" th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>
</head>
<body>
<div th:replace="navbar" class="container">

</div>
<div class="container">

  <div th:if="${message!=null}" class="alert alert-success text-center notification success">
    [[${message}]]
  </div>
  <br>

  <!-- Header -->
  <header>
    <h1>Employee Details</h1>
    <a th:href="@{/employees/new}" class="add-user-btn">+ Add New User</a>
  </header>

  <table class="user-table">
    <thead>
    <tr>
      <th>Employee ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Salary</th>
      <th>Email</th>
      <th>Phone Number</th>
      <th>Gender</th>
      <th>Department Name</th>
      <th>Role Name</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody id="user-table-body">
      <tr th:each="employee:${employees}">
        <td>[[${employee.employeeId}]]</td>
        <td>[[${employee.firstName}]]</td>
        <td>[[${employee.lastName}]]</td>
        <td>[[${employee.salary}]]</td>
        <td>[[${employee.email}]]</td>
        <td>[[${employee.phoneNo}]]</td>
        <td>[[${employee.gender}]]</td>
        <td>[[${employee.departmentName}]]</td>
<!--        <td class="status">[[${employee.roles}]]</td>-->

        <td>
          <span class="status"
                th:each="role : ${employee.roles}"
                th:text="${role.roleName}"
                th:attr="style=${role.roleName == 'Admin' ? 'background-color: #dc3545; color: white;' : (role.roleName == 'Employee' ? 'background-color: #28a745; color: white;' : '')}">
          </span>
        </td>


        <td><a class="edit-btn" th:href="@{'/employees/update/'+${employee.employeeId}}">
          Update
        </a></td>

      </tr>
    </tbody>
  </table>
</div>
</html>