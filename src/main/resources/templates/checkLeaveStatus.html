<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Check Leave Status</title>
  <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/checkLeaveStatus.css}">
  <script type="text/javascript" th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.min.js}"></script>
  <script type="text/javascript" th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>
</head>
<body>
<div class="container">
  <!-- Header -->
  <header class="mb-4">
    <h1>Employee Details</h1>
    <a class="back-btn" th:href="@{/employees/leave/view/{employeeId}(employeeId=${employeeId})}">Back</a>
  </header>

  <!-- Tabs Navigation -->
  <ul class="nav nav-tabs" id="leaveTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending"
              type="button" role="tab" aria-controls="pending" aria-selected="true">Pending</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="approved-tab" data-bs-toggle="tab" data-bs-target="#approved"
              type="button" role="tab" aria-controls="approved" aria-selected="false">Approved</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="rejected-tab" data-bs-toggle="tab" data-bs-target="#rejected"
              type="button" role="tab" aria-controls="rejected" aria-selected="false">Rejected</button>
    </li>
  </ul>

  <!-- Tab Content -->
  <div class="tab-content" id="leaveTabsContent">
    <!-- Pending Tab -->
    <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
      <table class="user-table">
        <thead>
        <tr>
          <th>Employee ID</th>
          <th>Leave ID</th>
          <th>From Date</th>
          <th>No of Days</th>
          <th>Reason</th>
          <th>Category</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="applyLeave : ${applyLeaves}" th:if="${applyLeave.leaveStatus == 'PENDING'}">
          <td>[[${applyLeave.employeeId}]]</td>
          <td>[[${applyLeave.leaveid}]]</td>
          <td>[[${applyLeave.fromDate}]]</td>
          <td>[[${applyLeave.noOfDays}]]</td>
          <td>[[${applyLeave.leaveReason}]]</td>
          <td>[[${applyLeave.leaveCategory}]]</td>
          <td><span class="status bg-warning text-white">[[${applyLeave.leaveStatus}]]</span></td>
          <td>
            <a class="cancel-btn btn-danger btn-sm" th:href="@{/employees/leave/cancel/{leaveid}(leaveid=${applyLeave.leaveid})}">Cancel</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Approved Tab -->
    <div class="tab-pane fade" id="approved" role="tabpanel" aria-labelledby="approved-tab">
      <table class="user-table">
        <thead>
        <tr>
          <th>Employee ID</th>
          <th>Leave ID</th>
          <th>From Date</th>
          <th>No of Days</th>
          <th>Reason</th>
          <th>Category</th>
          <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="applyLeave : ${applyLeaves}" th:if="${applyLeave.leaveStatus == 'APPROVED'}">
          <td>[[${applyLeave.employeeId}]]</td>
          <td>[[${applyLeave.leaveid}]]</td>
          <td>[[${applyLeave.fromDate}]]</td>
          <td>[[${applyLeave.noOfDays}]]</td>
          <td>[[${applyLeave.leaveReason}]]</td>
          <td>[[${applyLeave.leaveCategory}]]</td>
          <td><span class="status bg-success text-white">[[${applyLeave.leaveStatus}]]</span></td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Rejected Tab -->
    <div class="tab-pane fade" id="rejected" role="tabpanel" aria-labelledby="rejected-tab">
      <table class="user-table">
        <thead>
        <tr>
          <th>Employee ID</th>
          <th>Leave ID</th>
          <th>From Date</th>
          <th>No of Days</th>
          <th>Reason</th>
          <th>Category</th>
          <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="applyLeave : ${applyLeaves}" th:if="${applyLeave.leaveStatus == 'REJECTED'}">
          <td>[[${applyLeave.employeeId}]]</td>
          <td>[[${applyLeave.leaveid}]]</td>
          <td>[[${applyLeave.fromDate}]]</td>
          <td>[[${applyLeave.noOfDays}]]</td>
          <td>[[${applyLeave.leaveReason}]]</td>
          <td>[[${applyLeave.leaveCategory}]]</td>
          <td><span class="status bg-danger text-white">[[${applyLeave.leaveStatus}]]</span></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</body>
</html>